= base_component(**content_tag_arguments) do
  - options = ::Html::TagAttributes.build({ class: "relative shadow-lg cursor-pointer", style: "transform-style: preserve-3d" })
  - options = options.with_stimulus_target("innerLetter", stimulus_identifier)
  %div{ options.to_h }
    -# Front Card Face
    - options = ::Html::TagAttributes.build({ class: "absolute top-0 left-0 w-full h-full text-gray-700 cursor-pointer",
                                              style: "backface-visibility: hidden; background-image: url('#{asset_path("postcard-background.svg")}')" })
    - options = options.with_stimulus_action("click", Invitation::ShowComponent.stimulus_identifier, "openLetter")
    %div{ options.to_h }
      -# Stamps

      -# Desktop
      %div{ class: "contents portrait:max-md:hidden block" }
        = image_tag("invitation/stamp_01.png", alt: "stamp", class: "absolute top-12 right-12 h-[12%] md:h-[18%] w-auto transform rotate-[10deg] opacity-70")
        = image_tag("invitation/stamp_02.png", alt: "stamp", class: "absolute top-8 right-10 h-[15%] md:h-[20%] w-auto transform -rotate-[4deg] shadow-sm")

      -# Mobile
      %div{ class: "contents portrait:max-md:block hidden" }
        = image_tag("invitation/stamp_01.png", alt: "stamp", class: "absolute top-20 -left-1 h-[12%] md:h-[18%] w-auto transform rotate-[98deg] opacity-70")
        = image_tag("invitation/stamp_02.png", alt: "stamp", class: "absolute top-8 left-10 h-[15%] md:h-[20%] w-auto transform -rotate-[95deg] shadow-sm")

      -# Open Instructions

      -# Desktop
      %div{ class: "absolute bottom-10 left-14 space-y-4 left-16 bottom-20 portrait:max-md:hidden block" }
        %p{ class: "text-5xl opacity-60 font-ambrosia" }= invitation.decorator.guest_names
        %p{ class: "text-xs uppercase tracking-[.2em] opacity-40" }= t(".open")

      -# Mobile
      %div{ class: "absolute space-y-2 left-[7rem] bottom-[12rem] w-full transform -rotate-[90deg] portrait:max-md:block hidden" }
        %p{ class: "text-5xl opacity-60 font-ambrosia" }= invitation.decorator.guest_names
        %p{ class: "text-xs uppercase tracking-[.2em] opacity-40" }= t(".open")

    -# Back Card Face
    %div{ style: "backface-visibility: hidden; transform: rotateY(180deg)" }
      = render(Invitation::Card.new(invitation:))
